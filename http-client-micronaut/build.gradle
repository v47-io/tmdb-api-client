apply plugin: 'org.jetbrains.kotlin.kapt'
apply plugin: 'org.jetbrains.kotlin.plugin.allopen'

allOpen {
    annotation('io.micronaut.aop.Around')
    annotation('jakarta.inject.Singleton')
}

kapt {
    correctErrorTypes = true
}

dependencies {
    implementation project(':core')

    compileOnly libraries.mnHttpClient
    implementation libraries.jacksonDatabind

    implementation libraries.reactiveStreams
    implementation libraries.rxJava

    testImplementation project(':api')
    testImplementation project(':http-client-tck')

    kaptTest libraries.mnInject
    testRuntimeOnly libraries.mnHttpClient
    testRuntimeOnly libraries.mnHttpServerNetty
    testImplementation libraries.mnRuntime

    testRuntimeOnly libraries.jacksonModuleKotlin
    testRuntimeOnly libraries.logback
}
